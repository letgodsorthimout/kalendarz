<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <title>Kolorowanka – serce</title>
    <style>
      body {
        margin: 0;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: #0f172a;
        color: #f9fafb;
        font-family: system-ui, sans-serif;
      }

      .container {
        display: flex;
        gap: 32px;
        align-items: center;
      }

      .wrapper {
        text-align: center;
      }

      h1 {
        margin-bottom: 12px;
        font-size: 1.3rem;
      }

      table {
        border-collapse: collapse;
        margin: 0 auto;
      }

      td {
        width: 32px;
        height: 32px;
        border: 1px solid #1f2937;
        background: #ffffff;
        cursor: pointer;
        transition: background-color 0.15s ease, transform 0.1s ease;
      }

      td.on {
        background: #ef4444;
        transform: scale(1.03);
      }

      /* podgląd po prawej – nieklikalny */
      .preview td {
        cursor: default;
      }

      .preview td.on {
        transform: none;
      }

      #message {
        margin-top: 16px;
        font-size: 1.4rem;
        font-weight: 700;
        color: #fbbf24;
        display: none;
      }

      .label {
        margin-bottom: 8px;
        font-weight: 600;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="wrapper">
        <h1>Wyklikaj serce, klikając białe pola</h1>
        <div class="label">Tutaj kolorujesz</div>
        <table id="grid"></table>
        <div id="message">Kocham Cię ❤️</div>
      </div>

      <div class="wrapper">
        <div class="label">Tu masz wzór serca</div>
        <table id="preview" class="preview"></table>
      </div>
    </div>

    <script>
      const rows = 7;
      const cols = 7;
      const grid = document.getElementById("grid");
      const preview = document.getElementById("preview");
      const message = document.getElementById("message");

      // 1 = czerwony piksel serca, 0 = puste
      const heartPattern = [
        [0, 1, 1, 0, 1, 1, 0],
        [1, 1, 1, 1, 1, 1, 1],
        [1, 1, 1, 1, 1, 1, 1],
        [0, 1, 1, 1, 1, 1, 0],
        [0, 0, 1, 1, 1, 0, 0],
        [0, 0, 0, 1, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0],
      ];

      const state = Array.from({ length: rows }, () => Array(cols).fill(0));

      // Tworzenie planszy do klikania
      for (let r = 0; r < rows; r++) {
        const tr = document.createElement("tr");
        for (let c = 0; c < cols; c++) {
          const td = document.createElement("td");
          td.dataset.row = r;
          td.dataset.col = c;

          td.addEventListener("click", () => {
            const rr = Number(td.dataset.row);
            const cc = Number(td.dataset.col);

            if (state[rr][cc] === 0) {
              state[rr][cc] = 1;
              td.classList.add("on");
            } else {
              state[rr][cc] = 0;
              td.classList.remove("on");
            }

            checkHeart();
          });

          tr.appendChild(td);
        }
        grid.appendChild(tr);
      }

      // Tworzenie podglądu wzoru po prawej
      for (let r = 0; r < rows; r++) {
        const tr = document.createElement("tr");
        for (let c = 0; c < cols; c++) {
          const td = document.createElement("td");
          if (heartPattern[r][c] === 1) {
            td.classList.add("on");
          }
          tr.appendChild(td);
        }
        preview.appendChild(tr);
      }

      function checkHeart() {
        for (let r = 0; r < rows; r++) {
          for (let c = 0; c < cols; c++) {
            if (state[r][c] !== heartPattern[r][c]) {
              message.style.display = "none";
              return;
            }
          }
        }
        message.style.display = "block";
      }
    </script>
  </body>
</html>
